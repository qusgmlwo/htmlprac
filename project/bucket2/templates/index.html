  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&amp;display=swap" rel="stylesheet">

    <title>ì¸ìƒ ë²„í‚·ë¦¬ìŠ¤íŠ¸</title>

    <style>
        * {
            font-family: 'Gowun Dodum', sans-serif;
        }

        .mypic {
            width: 100%;
            height: 200px;

            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://images.unsplash.com/photo-1601024445121-e5b82f020549?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1189&q=80');
            background-position: center;
            background-size: cover;

            color: white;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .mypic > h1 {
            font-size: 30px;
        }

        .mybox {
            width: 95%;
            max-width: 700px;
            padding: 20px;
            box-shadow: 0px 0px 10px 0px lightblue;
            margin: 20px auto;
        }

        .mybucket {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
        }

        .mybucket > input {
            width: 70%;
        }

        .mybox > li {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;

            margin-bottom: 10px;
            min-height: 48px;
        }

        .mybox > li > h2 {
            max-width: 75%;
            font-size: 20px;
            font-weight: 500;
            margin-right: auto;
            margin-bottom: 0px;
        }

        .mybox > li > h2.done {
            text-decoration: line-through
        }
    </style>
    <script>
        $(document).ready(function () {
            show_bucket();
        });

        function show_bucket() {
            $('#bucket-list').empty()

            $.ajax({
                type: "GET",
                url: "/bucket",
                data: {},
                success: function (response) {
                    rows = response["buckets"]

                    for(let i=0; i<rows.length; i++){
                        let bucket = rows[i]['bucket']
                        let num = rows[i]['num']
                        let done = rows[i]['done']
                        let temp_html=``

                        if(done==0){
                            temp_html=`<li>
                                            <h2>âœ… ${bucket}</h2>
                                            <button onclick="done_bucket(${num})" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li>`
                        } else {
                            temp_html=`<li>
                                            <h2 class="done">âœ… ${bucket}</h2>
                                            <button onclick="undo_bucket(${num})" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li>`
                        }

                        $('#bucket-list').append(temp_html)
                    }
                }
            });
        }

        function save_bucket(){

            let bucket = $('#bucket').val()

            $.ajax({
                type: "POST",
                url: "/bucket",
                data: {bucket_give:bucket},
                success: function (response) {
                    alert(response["msg"])
                    window.location.reload()
                }
            });
        }

        function delete_bucket(num) {

            $.ajax({
                type: "POST",
                url: "/bucket/delete",
                data: {num_give: num},
                success: function (response) {
                    alert(response["msg"])
                    window.location.reload()
                }
            });
        }

        function done_bucket(num) {

            $.ajax({
                type: "POST",
                url: "/bucket/done",
                data: {num_give: num},
                success: function (response) {
                    alert(response["msg"])
                }
            });
            window.location.reload()
        }

        function undo_bucket(num){
            $.ajax({
                type: "POST",
                url: "/bucket/undo",
                data: {num_give: num},
                success: function (response) {
                    alert(response["msg"])
                }
            });
            window.location.reload()
        }
    </script>
</head>
<body>
<div class="mypic">
    <h1>ë‚˜ì˜ ë²„í‚·ë¦¬ìŠ¤íŠ¸</h1>
</div>
<div class="mybox">
    <div class="mybucket">
        <input id="bucket" class="form-control" type="text" placeholder="ì´ë£¨ê³  ì‹¶ì€ ê²ƒì„ ì…ë ¥í•˜ì„¸ìš”" control-id="ControlID-1">
        <button onclick="save_bucket()" type="button" class="btn btn-outline-primary" control-id="ControlID-2">ê¸°ë¡í•˜ê¸°</button>
    </div>
</div>
<div class="mybox" id="bucket-list"><li>
                                            <h2>âœ… í•­í•´99 ìˆ˜ë£Œí•˜ê³  ì·¨ì—… ì„±ê³µí•˜ê¸°</h2>
                                            <button onclick="done_bucket(1)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ë§¤ì¼ ê³µë¶€í•œ ê²ƒ ë¸”ë¡œê·¸ë¡œ ì •ë¦¬í•˜ê¸°(TIL)</h2>
                                            <button onclick="undo_bucket(2)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… ì…í•™ì‹œí—˜ ì œí•œ ì‹œê°„ë‚´ì— ì™„ì„±í•˜ê³  ì œì¶œí•˜ê¸°</h2>
                                            <button onclick="done_bucket(3)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… 222</h2>
                                            <button onclick="done_bucket(4)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ë‹¤ë“¤ ì‹œí—˜ë¬¸ì œ ë³´ê³  ê³„ì‹ ê°€ìš”?</h2>
                                            <button onclick="done_bucket(5)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ë‹¤ë“¤ í™”ì´íŒ… ì…ë‹ˆë‹¤!! í•©ê²©í•´ì„œ ë§Œë‚˜ìš”</h2>
                                            <button onclick="undo_bucket(6)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2 class="done">âœ… 1</h2>
                                            <button onclick="undo_bucket(7)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… 2</h2>
                                            <button onclick="done_bucket(8)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… sd</h2>
                                            <button onclick="done_bucket(9)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì‹¤í—˜</h2>
                                            <button onclick="done_bucket(10)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… í¬ë¦¬ìŠ¤í”¼ ë„ë„› ì§„ì§œ ë§›ì§±ì„ã… </h2>
                                            <button onclick="undo_bucket(11)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… ë…¸í‹°ë“œ</h2>
                                            <button onclick="done_bucket(12)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì˜¤ìš°</h2>
                                            <button onclick="done_bucket(13)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì‹œí—˜ ë‹¤ë“¤ í™”ì´íŒ…ì…ë‹ˆë‹¤!!!</h2>
                                            <button onclick="done_bucket(14)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… rhksenj</h2>
                                            <button onclick="done_bucket(15)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ì´ ë²„íŠ¼ ëˆ„ë¥´ì§€ ë§ˆì„¸ì—¬</h2>
                                            <button onclick="undo_bucket(16)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… </h2>
                                            <button onclick="done_bucket(17)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… í•©ê²© ì¶•í•˜ë“œë¦½ë‹ˆë‹¤</h2>
                                            <button onclick="done_bucket(18)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ã…‹ã…‹ã…‹ ë‹¤ë“¤ í…ŒìŠ¤íŠ¸í•´ë³´ì‹œë‚˜</h2>
                                            <button onclick="done_bucket(19)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ëª¨ë‘ í™”ì´íŒ…í•´ìš”!!</h2>
                                            <button onclick="done_bucket(20)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹</h2>
                                            <button onclick="done_bucket(21)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ë‹¤ë“¤ í™”ì´íŒ…</h2>
                                            <button onclick="done_bucket(22)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… í™”ì´íŒ…ì…ë‹ˆë‹¤.</h2>
                                            <button onclick="done_bucket(23)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ë ‰ ê±¸ë¦° ì¤„</h2>
                                            <button onclick="undo_bucket(24)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2 class="done">âœ… í˜ë‚´ì„¸ìš©!</h2>
                                            <button onclick="undo_bucket(25)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… í™•ì¸</h2>
                                            <button onclick="done_bucket(26)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… í…ŒìŠ¤íŠ¸1</h2>
                                            <button onclick="done_bucket(27)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… 546456654</h2>
                                            <button onclick="done_bucket(28)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì‚¬ë‘í•´ìš” 7ê¸°</h2>
                                            <button onclick="done_bucket(29)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ì˜´ë§ˆë‚˜ ã…‹ã…‹ã…‹ã…‹</h2>
                                            <button onclick="undo_bucket(30)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2 class="done">âœ… ã…‹ã…‹ã…‹ã…‹ ê·€ì—¬ì›Œ í™”ì´íŒ…!!</h2>
                                            <button onclick="undo_bucket(31)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… ê¹œì§ì•„ ã…‹ã…‹ã…‹ã…‹</h2>
                                            <button onclick="done_bucket(32)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… </h2>
                                            <button onclick="done_bucket(33)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ã…ã…</h2>
                                            <button onclick="undo_bucket(34)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… ë–¨ë¦¬êµ¬ë§Œìœ ..</h2>
                                            <button onclick="done_bucket(35)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… dfsd</h2>
                                            <button onclick="done_bucket(36)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ã…ã…‡ã…Œ</h2>
                                            <button onclick="done_bucket(37)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2 class="done">âœ… ì–´ì¼€í•˜ì§•</h2>
                                            <button onclick="undo_bucket(38)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2 class="done">âœ… 123</h2>
                                            <button onclick="undo_bucket(39)" type="button" class="btn btn-outline-danger">ì·¨ì†Œ</button>
                                        </li><li>
                                            <h2>âœ… í˜¸ì‡</h2>
                                            <button onclick="done_bucket(40)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… gd</h2>
                                            <button onclick="done_bucket(41)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ë‚ ì´ ì¢‹ë„¤ìš”</h2>
                                            <button onclick="done_bucket(42)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì•„ ì·¨ì†Œë²„íŠ¼ì´ ì•ˆë‚˜ì˜¨ë‹¤!!!!!!!!!!!!!!</h2>
                                            <button onclick="done_bucket(43)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… GOOD!</h2>
                                            <button onclick="done_bucket(44)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ë„ì™€ì£¼ì„¸ìš”</h2>
                                            <button onclick="done_bucket(45)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì†Œë¦¬ì§€ë¥´ì§€ë§ê³  ë°•ìˆ˜ì¶”ã…”</h2>
                                            <button onclick="done_bucket(46)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€ğŸ˜€</h2>
                                            <button onclick="done_bucket(47)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ì—¬ëŸ¬ë¶„ í™”ì´íŒ…!!!!</h2>
                                            <button onclick="done_bucket(48)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… ë‹¤ë“¤ í†µê³¼í›„ ë§Œë‚˜ìš”</h2>
                                            <button onclick="done_bucket(49)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… </h2>
                                            <button onclick="done_bucket(50)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… 1</h2>
                                            <button onclick="done_bucket(51)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… í™”ì´íŒ…í•©ì‹œë‹¤!</h2>
                                            <button onclick="done_bucket(52)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li><li>
                                            <h2>âœ… í…ŒìŠ¤íŠ¸</h2>
                                            <button onclick="done_bucket(53)" type="button" class="btn btn-outline-primary">ì™„ë£Œ!</button>
                                       </li></div>

</body></html>